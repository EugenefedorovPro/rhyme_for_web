# Первый открытый алгоритм для подбора рифм на русском языке
В основе: en.wiktionary.org, две авторские нейросети.

## Теория рифмования

1. Рифмуются не буквы, а звуки. Каждое слово транскрибуруется по правилам [IPA](https://tinyurl.com/59nmeuhb). Поэтому "Снится"/ "синица" - это близкая рифма. 2. Для подбора рифм имеют значения: 
	- только ударный гласный + все звуки после него + при наличии согласный перед ним. Например, в слове "колесо" алгоритмом учитывается только [со]. 
	- позиция звука, которая считается от ударного гласного. В паре "дом" / "ком", "о" - позиция 1, "д" и "к" занимают позицию 0, а звуки "м" позицию 2. 
3. Пара "облако" / "о'кала" имеют большинство одинаковых звуков, которые, однако, располагаются на разных позициях. Поэтому данная пара квалифицируется не как рифма, а как созвучие (ассонанас + консонанс).
4. Отношения между парами созвучных слов описываются рифмическими паттернами. Например, слова "рог" / "пирог" имеют следующий паттерн: ('same_cons', 'same_stressed', 'same_cons').
4. В рифмованных словах звуки имеют свои созвучные пары, которые я обозначаю следующими символами:
	- **same_cons** = тот же самый согласный на той же позиции в обоих словах: "дом" - "ком": "м" на позиции 2.
	- **same_stressed_v** = тот же самый ударный гласный "о" на позиции 1.
	- **near_stressed_v** = гласная и её йотированная пара как о-ё в словах "дом" - "ёд"
	- **same_v** = одинаковая гласная на соответствующих позициях, как 'а' в паре "кобра" - "вобла".
	- **voice** = звонкий/ глухой согласный, который соответствует глухому/ звонкому: последние звуки пары "дрожь" - "вошь". 
	- **any_cons** = любой согласный на тех же позициях.
	- **any_v** = любой гласный.
	- **no_sound** = пропущенный звук на соответствующей позиции: "дом" - "дзюдо", 'м' - звук, пропущенный в конце второго слова: ('same_cons', 'same_stressed', 'no_sound').
	- **add_sound** = добавленный звук: в паре "дом" - "гнедому", звук 'у' добавлен: ('same_cons', 'same_stressed', 'same_cons', 'add_sound').
5. Степень рифмического соответствия - это континуум, в котором ухо само решает, где слова еще гармонируют друг с другом, а где уже нет. 
6. Каждому рифмованному слову присваивается штраф:
	- **0** - "время"/ "бремя": ('same_cons', 'same_stressed', 'same_cons', 'same_v') - полное совпадение всех звуков, нулевой штраф. 
	- **1** - "конь"/ "огонь": ('voice', 'same_stressed', 'same_cons') - согласные перед ударным гласным соотносятся как глухой "к" и звонкий "г".
	- **5** - "вода"/ "воздал": ('same_cons', 'same_stressed', 'add_sound') - в конце второго слова добавлен звук "л".
	- **6** - "вода"/ "атак": ('voice', 'same_stressed', 'add_sound') - согласные предшествующие ударному гласному соотносятся как звонкий "д" - глухой "т", плюс ко второму слову добавлен звук ""к. Рифма достаточно далекая, соответственно и штраф большой.
7. Степень созвучия вычисляется по формуле, которая учитывает ряд факторов, прежде всего, наличие в слове ассонансов/ консонансов, а также длину слова. Если для расчёта рифмической дистанции между словами учитывается позиция звуков, то для созвучности это не имеет значение. Как следствие, наиболее интересные созвучия имеют далёкий балл рифмической несхожести и близкий балл в континууме ассонанс-консонанс.
	- **штраф: 11, созвучие: 1** - "беженец"/ "невеже" - ('any_cons', 'same_stressed', 'same_cons', 'same_v', 'no_sound', 'no_sound').
	- **штраф: 13, созвучие: 1** - "олово"/ "отлов" - ('any_cons', 'same_stressed', 'same_cons', 'same_v', 'no_sound', 'no_sound').


## Автор проекта и разработчик: Евгений Проскуликов
[Описание проекта на git.hub (англ.)](https://github.com/EugenefedorovPro/rhyme_rus)
